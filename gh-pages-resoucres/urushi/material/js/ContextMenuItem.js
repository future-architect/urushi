define("ContextMenuItem",["Urushi","CollectionItemBase"],function(t,e){"use strict";var i={ID_PREFIX:"urushi._contextMenuItem",LI_ID_PREFIX:"urushi._contextMenuItem.li",ITEM_FONT_SIZE:18,ICON_MARGIN_RIGHT:16},n=0,s=0;return e.extend({node:void 0,width:0,callback:void 0,init:function(e){e=e||{},this._super(e),t.addEvent(this.node,"click",this,"onClickItem")},_initProperties:function(t){this._super(t),this.callback=t.callback},_render:function(e){var n,s,o,d;n=document.createElement("li"),s=document.createElement("span"),n.id=e.liId||this._getListItemId(),o=e.label||"",t.setDomContents(s,o||"Â "),s.classList.add("label"),this.width=this._getLabelWidth(o),e.icon&&(d=document.createElement("span"),d.classList.add(e.icon),d.classList.add("icon"),n.appendChild(d),this.width=this.width+i.ITEM_FONT_SIZE+i.ICON_MARGIN_RIGHT),n.classList.add("item"),n.appendChild(s),this.node=n},setCallback:function(t){if("function"!=typeof t)throw new Error("setCallback : Specifiy function");this.callback=t},onClickItem:function(t){t.stopPropagation(),this.owner.onClickItem(this)},_getId:function(){return i.ID_PREFIX+n++},_getListItemId:function(){return i.LI_ID_PREFIX+s++},_getLabelWidth:function(t){var e,n=$(document.body),s=$("<div>"),o=$("<span>");return o.text("&nbsp;"),s.css({position:"absolute",top:0,left:0,width:9999,"z-index":-1}),o.text(t),o.css({"background-color":"transparent","font-size":i.ITEM_FONT_SIZE+"px"}),n.append(s.append(o)),e=o.width(),o.remove(),s.remove(),e},setHidden:function(t){return"boolean"!=typeof t?!1:(t?this.node.classList.add("hidden"):this.node.classList.remove("hidden"),!0)},isHidden:function(){return this.node.classList.contains("hidden")},destroy:function(){t.removeEvent(this.node,"click",this,"onClickItem"),$(this.node).remove(),this._super()}})});