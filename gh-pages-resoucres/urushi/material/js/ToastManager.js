define("ToastManager",["Urushi","_Base","materialConfig","Toast","text!toastManagerTemplate"],function(t,e,i,n,o){"use strict";var s={ID:"urushi.toast-manager"},d=!1,r={};return e.extend({template:void 0,embedded:{},displayTime:void 0,init:function(t){if(t=t||{},d)throw new Error("The instance is already created.");d=!0,this._super(t)},_initProperties:function(t){this.template=o,this.id=s.ID,this.setDisplayTime(t.displayTime||i.TOAST_DISPLAY_TIME)},getToastNode:function(t){var e;return t?(e=r[t],e?e.rootNode:null):null},show:function(t,e){var i,o;return t=t||"","string"!=typeof t&&document.DOCUMENT_FRAGMENT_NODE!==t.nodeType&&document.ELEMENT_NODE!==t.nodeType||!t?void 0:(i={content:t},o=new n(i),r[o.id]=o,this.rootNode.appendChild(o.rootNode),e=isNaN(e)||0>e?this.displayTime:e,setTimeout(function(t,e){e.show().then(function(t,e){0!==t&&setTimeout(function(t){this.hide(t.id)}.bind(this,e),t)}.bind(this,t,e))}.bind(this,e,o),50),o.id)},hide:function(t){var e;t&&(e=r[t],e&&e.hide().then(function(){this._deleteToast(e.id)}.bind(this)))},_deleteToast:function(t){r[t].destroy(),r[t]=null,delete r[t]},setDisplayTime:function(t){"number"==typeof t&&(this.displayTime=t)},_getId:function(){return this.id},destroy:function(){var t;for(t in r)this._deleteToast(t);this._super(),d=!1}})});